---
layout: default
title: ModuleActivator Struct Reference
---
  <head>
    <title>C++ Micro Services: ModuleActivator Struct Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
  </head>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structModuleActivator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ModuleActivator Struct Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__MicroServices.html">Micro Services Classes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Customizes the starting and stopping of a CppMicroServices module.  
 <a href="structModuleActivator.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2d6ad50aa36b2201dc18475b2e3a3cfe"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleActivator.html#a2d6ad50aa36b2201dc18475b2e3a3cfe">~ModuleActivator</a> ()</td></tr>
<tr class="separator:a2d6ad50aa36b2201dc18475b2e3a3cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db3f85c15a814a5918eb22725229967"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleActivator.html#a1db3f85c15a814a5918eb22725229967">Load</a> (<a class="el" href="classModuleContext.html">ModuleContext</a> *context)=0</td></tr>
<tr class="memdesc:a1db3f85c15a814a5918eb22725229967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when this module is loaded.  <a href="#a1db3f85c15a814a5918eb22725229967">More...</a><br/></td></tr>
<tr class="separator:a1db3f85c15a814a5918eb22725229967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410a3f54b7cad990e8d670450677218c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleActivator.html#a410a3f54b7cad990e8d670450677218c">Unload</a> (<a class="el" href="classModuleContext.html">ModuleContext</a> *context)=0</td></tr>
<tr class="memdesc:a410a3f54b7cad990e8d670450677218c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when this module is unloaded.  <a href="#a410a3f54b7cad990e8d670450677218c">More...</a><br/></td></tr>
<tr class="separator:a410a3f54b7cad990e8d670450677218c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Customizes the starting and stopping of a CppMicroServices module. </p>
<p><code>ModuleActivator</code> is an interface that can be implemented by CppMicroServices modules. The CppMicroServices library can create instances of a module's <code>ModuleActivator</code> as required. If an instance's <code><a class="el" href="structModuleActivator.html#a1db3f85c15a814a5918eb22725229967" title="Called when this module is loaded.">ModuleActivator::Load</a></code> method executes successfully, it is guaranteed that the same instance's <code>ModuleActivator::Unload</code> method will be called when the module is to be unloaded. The CppMicroServices library does not concurrently call a <code>ModuleActivator</code> object.</p>
<p><code>ModuleActivator</code> is an abstract class interface whose implementations must be exported via a special macro. Implementations are usually declared and defined directly in .cpp files.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyActivator : <span class="keyword">public</span> <a class="code" href="structModuleActivator.html" title="Customizes the starting and stopping of a CppMicroServices module.">ModuleActivator</a></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="structModuleActivator.html#a1db3f85c15a814a5918eb22725229967" title="Called when this module is loaded.">Load</a>(<a class="code" href="classModuleContext.html" title="A module&#39;s execution context within the framework.">ModuleContext</a>* <span class="comment">/*context*/</span>)</div>
<div class="line">  { <span class="comment">/* register stuff */</span> }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="structModuleActivator.html#a410a3f54b7cad990e8d670450677218c" title="Called when this module is unloaded.">Unload</a>(<a class="code" href="classModuleContext.html" title="A module&#39;s execution context within the framework.">ModuleContext</a>* <span class="comment">/*context*/</span>)</div>
<div class="line">  { <span class="comment">/* cleanup */</span> }</div>
<div class="line"></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__MicroServices.html#gac441a2e64f59a76a5f7e42de67e87cba" title="Export a module activator class.">US_EXPORT_MODULE_ACTIVATOR</a>(mylibname, MyActivator)</div>
</div><!-- fragment --> <p>The class implementing the <code>ModuleActivator</code> interface must have a public default constructor so that a <code>ModuleActivator</code> object can be created by the CppMicroServices library. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2d6ad50aa36b2201dc18475b2e3a3cfe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ModuleActivator::~ModuleActivator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1db3f85c15a814a5918eb22725229967"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ModuleActivator::Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classModuleContext.html">ModuleContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when this module is loaded. </p>
<p>This method can be used to register services or to allocate any resources that this module may need globally (during the whole module lifetime).</p>
<p>This method must complete and return to its caller in a timely manner.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The execution context of the module being loaded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::exception</td><td>If this method throws an exception, this module is marked as stopped and the framework will remove this module's listeners, unregister all services registered by this module, and release all services used by this module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a410a3f54b7cad990e8d670450677218c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ModuleActivator::Unload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classModuleContext.html">ModuleContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when this module is unloaded. </p>
<p>In general, this method should undo the work that the <code><a class="el" href="structModuleActivator.html#a1db3f85c15a814a5918eb22725229967" title="Called when this module is loaded.">ModuleActivator::Load</a></code> method started. There should be no active threads that were started by this module when this method returns.</p>
<p>This method must complete and return to its caller in a timely manner.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The execution context of the module being unloaded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::exception</td><td>If this method throws an exception, the module is still marked as unloaded, and the framework will remove the module's listeners, unregister all services registered by the module, and release all services used by the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->

  <hr class="footer"/>
  <address class="footer"><small>Generated on Fri Aug 16 2013 for C++ Micro Services 1.99.0 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.3.1
</small></address>
